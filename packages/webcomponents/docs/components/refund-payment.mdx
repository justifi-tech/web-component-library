---
id: payment-facilitation/refund-payment
title: Refund Payment
description: Guided UI for issuing full or partial refunds with reason codes and audit trails.
sidebar_position: 33
---

import { PropsTable, UsageSnippet, PartsTable } from './helpers';

## Overview

`<justifi-refund-payment>` surfaces the refund experience from Storybook inside your application. It handles permissions, reason codes, partial amounts, and confirmation states so support teams can issue refunds safely.

## Usage

<UsageSnippet
  title="Refund modal"
  code={`<justifi-refund-payment
  account-id="acc_123"
  auth-token="wct_refunds"
  payment-id="pay_456"
  max-amount="129.99"
/>`}
  language="html"
/>

## Props, Events & Methods

<PropsTable
  rows={[
    {
      name: 'account-id',
      type: 'string',
      required: true,
      description:
        'Ensures refunds are scoped to the correct platform account.',
    },
    {
      name: 'auth-token',
      type: 'string',
      required: true,
      description: 'Token with `write:refunds` scope.',
    },
    {
      name: 'payment-id',
      type: 'string',
      required: true,
      description: 'Payment being refunded.',
    },
    {
      name: 'max-amount',
      type: 'string | number',
      description:
        'Upper limit for partial refunds (defaults to remaining amount).',
    },
    {
      name: 'default-reason',
      type: 'string',
      description: 'Preselects a refund reason code.',
    },
  ]}
/>

### Events

- `submitted`: Emits when the refund is created; payload includes `refund_id` and amount.
- `error-event`: Fires when validation or network calls fail.

### Public methods

1. `submit()` – Trigger the refund flow (useful if the component is inside a modal with custom buttons).
2. `focus()` – Move focus to the amount input.

## Theming & Layout

- Use CSS props such as `--justifi-card-surface`, `--justifi-card-border`, and `--justifi-card-spacing` to match your modal styling.
- Keep the form width tight (360–480px). When embedded in a modal, allow the host container to manage responsiveness.

<PartsTable
  parts={[
    { name: 'header', description: 'Title + payment summary section.' },
    { name: 'form', description: 'Wraps the amount + reason inputs.' },
    {
      name: 'cta',
      description:
        'Refund confirmation button; align with your destructive color palette.',
    },
  ]}
/>

## Accessibility

- Amount and reason fields use native `<label>` elements.
- Error summaries surface above the form and focus the first invalid input.
- Confirmation text includes the refund amount for screen readers.

## Static examples

<UsageSnippet
  title="Programmatic refunds"
  code={`const component = document.querySelector('justifi-refund-payment');

document.querySelector('#confirm-refund').onclick = () => component.submit();`}
language="js"
/>
