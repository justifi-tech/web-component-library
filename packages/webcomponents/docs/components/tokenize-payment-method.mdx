---
id: components/tokenize-payment-method
title: <justifi-tokenize-payment-method>
description: Secure standalone card/bank tokenization form with built-in validation and iframe isolation.
sidebar_position: 1
---

import { PropsTable, UsageSnippet, PartsTable } from './helpers';

## Overview

`<justifi-tokenize-payment-method>` renders a complete payment method form that handles PCI-safe iframe rendering, validation, and submission. It can operate standalone or as part of `<justifi-modular-checkout>`.

## Usage

<UsageSnippet
  title="Standalone card tokenization"
  description="Drop-in usage when you want the component to render its own submit button."
  code={`<justifi-tokenize-payment-method
  account-id="acc_123"
  auth-token="wct_abc123"
  payment-method-group-id="pmg_42"
  save-payment-method-label="Save this payment method"
/>`}
  language="html"
/>

### Modular checkout orchestration

When nested inside `<justifi-modular-checkout>`, the component detects the parent context, hides its submit button, and reuses the parent auth token automatically.

## Props, Events & Methods

<PropsTable
  rows={[
    {
      name: 'account-id',
      type: 'string',
      required: true,
      description: 'Platform account that will own the resulting payment method.',
    },
    {
      name: 'auth-token',
      type: 'string',
      required: true,
      description: 'Short-lived Web Component Token with `write:tokenize:account_id` scope.',
    },
    {
      name: 'payment-method-group-id',
      type: 'string',
      description: 'Optional grouping identifier that lets you preselect payment rails in Modular Checkout.',
    },
    {
      name: 'hide-submit-button',
      type: 'boolean',
      defaultValue: 'false',
      description: 'Hides the internal CTA when hosting app handles submission.',
    },
    {
      name: 'save-payment-method-label',
      type: 'string',
      description: 'Overrides the checkbox label when allowing customers to store a card.',
    },
    {
      name: 'locale',
      type: 'string',
      defaultValue: 'en-US',
      description: 'Controls localization of labels, placeholders, and currency formatting.',
    },
    {
      name: 'theme',
      type: 'string',
      description: 'Name of a predefined theme exported by JustiFi (optional).',
    },
  ]}
/>

### Events

- `tokenized`: fires when a payment token is created; payload includes `payment_method_token` and metadata.
- `error`: fires if tokenization fails; payload includes `code`, `message`, and validation hints.

### Public methods

1. `tokenizePaymentMethod()` – programmatically trigger submission (returns a promise that resolves to a token payload).
2. `fillBillingForm(partialBillingDetails)` – prefill customers' billing information from saved data.

## Theming & Layout

- Customize the shell with CSS custom properties such as `--justifi-form-surface`, `--justifi-form-border-color`, `--justifi-accent-color`, and `--justifi-error-color`.
- Hosted fields remain inside PCI-safe iframes, so styling focuses on the outer wrapper plus the `::part` hooks listed below.
- Respect a min width of 320px; the layout stretches fluidly until 480px before locking to maintain readability.

<PartsTable
  parts={[
    { name: 'form', description: 'Wraps all hosted fields so you can add padding, background, or borders.' },
    { name: 'submit', description: 'Targets the internal CTA if `hide-submit-button` is false.' },
    { name: 'field-label', description: 'Applies typography overrides to each hosted-field label wrapper.' },
  ]}
/>

- Slots are not exposed (all inputs are encapsulated in PCI iframes), so styling relies on CSS variables and `::part` hooks for wrapper elements.

## Accessibility

- Built-in labels and `aria-describedby` attributes map to each hosted-field input.
- Focus is trapped inside the iframe while typing and returned to the parent document afterward.
- Errors are announced via `role="status"` containers with concise, localized copy.

## Static examples

<UsageSnippet
  title="External submission control"
  description="Hide the internal CTA and trigger tokenization manually (e.g., to combine with a review step)."
  code={`<justifi-tokenize-payment-method
  account-id="acc_123"
  auth-token="wct_abc123"
  hide-submit-button
  ref={el => (window.tokenizer = el)}
/>

<button onclick="window.tokenizer.tokenizePaymentMethod()">
  Submit Payment
</button>`}
  language="html"
/>

<UsageSnippet
  title="Prefill billing info"
  code={`const tokenizer = document.querySelector('justifi-tokenize-payment-method');

tokenizer.fillBillingForm({
  name: 'Leslie Knope',
  address_line1: '123 Main St',
  address_city: 'Pawnee',
  address_state: 'IN',
  address_postal_code: '47998',
});`}
  language="js"
/>
