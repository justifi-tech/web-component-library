---
id: payment-facilitation/tokenize-payment-method/index
title: Tokenize Payment Method
description: Secure standalone card/bank tokenization form with built-in validation and iframe isolation.
sidebar_position: 1
---

import { PropsTable, UsageSnippet, PartsTable } from '../../helpers';
import { getWebcomponentsVersion } from '@justifi/webcomponents/docs/helpers';

## Overview

Component to render an entire form including a switch to use a credit card or bank account, a submit button and all fields required for proper use. This component can be used standalone or as part of the modular checkout system.

## Usage

<UsageSnippet
  title="Standalone card tokenization"
  description="Drop-in usage when you want the component to render its own submit button."
  code={`<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <title>justifi-tokenize-payment-method</title>

  <script type="module" src="https://cdn.jsdelivr.net/npm/@justifi/webcomponents@${getWebcomponentsVersion()}/dist/webcomponents/webcomponents.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@justifi/webcomponents@${getWebcomponentsVersion()}/dist/webcomponents/webcomponents.js"></script>
  <style>
    ::part(font-family) {
      font-family: georgia;
    }

    ::part(color) {
      color: darkslategray;
    }

    ::part(background-color) {
      background-color: transparent;
    }

    ::part(button) {
      padding: 0.375rem 0.75rem;
      font-size: 16px;
      box-shadow: none;
      border-radius: 0px;
      line-height: 1.5;
      text-transform: none;
    }

    ::part(button-disabled) {
      opacity: 0.5;
    }

    ::part(input) {
      border-color: #555;
      border-width: 1px;
      border-bottom-width: 1px;
      border-left-width: 1px;
      border-right-width: 1px;
      border-top-width: 1px;
      border-radius: 0;
      border-style: solid;
      box-shadow: none;
      font-size: 1rem;
      font-weight: normal;
      line-height: 1.5;
      padding: 0.375rem 0.75rem;
    }

    ::part(input-focused) {
      border-color: #333;
      box-shadow: 0 0 0 0.25rem rgba(0, 0, 0, 0.25);
    }

    ::part(input-invalid) {
      border-color: #8a2a35;
      box-shadow: 0 0 0 0.25rem rgba(244, 67, 54, 0.25);
    }

    ::part(input-invalid-and-focused) {
      box-shadow: 0 0 0 0.25rem rgba(244, 67, 54, 0.25);
      border-color: #8a2a35;
    }

    ::part(input-radio) {
      background-color: #fff;
      border-color: #333;
    }

    ::part(input-checkbox) {
      border-color: #333;
    }
    
    ::part(input-checkbox-checked) {
      background-color: #000;
      border-color: #333;
    }

    ::part(input-checkbox-checked-focused) {
      background-color: #000;
      box-shadow: 0 0 0 0.25rem rgba(0, 0, 0, 0.25);
    }

    ::part(input-checkbox-focused) {
      background-color: #fff;
      box-shadow: 0 0 0 0.25rem rgba(0, 0, 0, 0.25);
    }

    ::part(button-primary) {
      color: #333;
      background-color: transparent;
      border-color: #333;
    }

    ::part(button-primary):hover {
      background-color: rgba(0, 0, 0, .05);
      border-color: #333;
      color: #333;
    }

    ::part(radio-list-item) {
      border-bottom: 1px solid #ddd;
    }
    
    ::part(radio-list-item):hover {
      background-color: #f9f9f9;
      cursor: pointer;
    }
    </style>
</head>

  <body>
    <justifi-tokenize-payment-method
      account-id="acc_123"
      auth-token="authToken"
      payment-method-group-id="pmg_123"
      submit-button-text="Tokenize Payment Method"
    />
  </body>

  <script>
    const justifiTokenizePaymentMethod = document.querySelector("justifi-tokenize-payment-method");

    // Handle successful tokenization
    justifiTokenizePaymentMethod.addEventListener("submit-event", (event) => {
      const response = event.detail.response;
      console.log("Tokenization successful:", response);
      
      if (response.token) {
        console.log("Payment method token:", response.token);
      }
      
      if (response.data) {
        console.log("Full payment method data:", response.data);
      }
    });

    // Handle errors
    justifiTokenizePaymentMethod.addEventListener("error-event", (event) => {
      console.error("Tokenization error:", event.detail);
    });

    // External tokenize button (when built-in submit button is hidden)
    document.getElementById("tokenize-button").addEventListener("click", async () => {
      try {
        const result = await justifiTokenizePaymentMethod.tokenizePaymentMethod();
        console.log("External tokenization result:", result);
      } catch (error) {
        console.error("External tokenization failed:", error);
      }
    });

    // Fill billing form programmatically
    document.getElementById("fill-billing-form").addEventListener("click", async () => {
      await justifiTokenizePaymentMethod.fillBillingForm({
        name: "John Doe",
        address_line1: "123 Main St",
        address_line2: "Apt 1",
        address_city: "Anytown",
        address_state: "NY", // Use 2-letter state code
        address_postal_code: "12345",
      });
      console.log("Billing form filled");
    }); 

    // Validate form
    document.getElementById("validate-form").addEventListener("click", async () => {
      const validation = await justifiTokenizePaymentMethod.validate();
      console.log("Validation result:", validation);
      
      if (validation.isValid) {
        console.log("Form is valid!");
      } else {
        console.log("Form has errors:", validation.errors);
      }
    });

  </script>

</html>`}
  language="html"
/>

### Modular checkout orchestration

When nested inside `<justifi-modular-checkout>`, the component detects the parent context, hides its submit button, and reuses the parent auth token automatically.

## Props, Events & Methods

<div dangerouslySetInnerHTML={{ __html: PropsTable([
    {
      name: 'account-id',
      type: 'string',
      required: true,
      description:
        'Platform account that will own the resulting payment method.',
    },
    {
      name: 'auth-token',
      type: 'string',
      required: true,
      description:
        'Short-lived Web Component Token with `write:tokenize:account_id` scope.',
    },
    {
      name: 'payment-method-group-id',
      type: 'string',
      description:
        'Optional grouping identifier that lets you preselect payment rails in Modular Checkout.',
    },
    {
      name: 'hide-submit-button',
      type: 'boolean',
      defaultValue: 'false',
      description:
        'Hides the internal CTA when hosting app handles submission.',
    },
    {
      name: 'save-payment-method-label',
      type: 'string',
      description:
        'Overrides the checkbox label when allowing customers to store a card.',
    },
    {
      name: 'locale',
      type: 'string',
      defaultValue: 'en-US',
      description:
        'Controls localization of labels, placeholders, and currency formatting.',
    },
    {
      name: 'theme',
      type: 'string',
      description: 'Name of a predefined theme exported by JustiFi (optional).',
    },
  ]) }} />

### Events

- `tokenized`: fires when a payment token is created; payload includes `payment_method_token` and metadata.
- `error`: fires if tokenization fails; payload includes `code`, `message`, and validation hints.

### Public methods

1. `tokenizePaymentMethod()` – programmatically trigger submission (returns a promise that resolves to a token payload).
2. `fillBillingForm(partialBillingDetails)` – prefill customers' billing information from saved data.

## Theming & Layout

- Hosted fields remain inside PCI-safe iframes, so styling focuses on the outer wrapper plus the `::part` hooks listed below.

<div dangerouslySetInnerHTML={{ __html: PartsTable([
    {
      name: 'font-family',
      description: 'Controls the font family for the component.',
    },
    {
      name: 'color',
      description: 'Controls the text color.',
    },
    {
      name: 'background-color',
      description: 'Controls the background color.',
    },
    {
      name: 'button',
      description: 'Button styles.',
    },
    {
      name: 'button-disabled',
      description: 'Disabled button styles.',
    },
    {
      name: 'input',
      description: 'Input field styles.',
    },
    {
      name: 'input-focused',
      description: 'Input styles when focused.',
    },
    {
      name: 'input-invalid',
      description: 'Input styles when invalid.',
    },
    {
      name: 'input-invalid-and-focused',
      description: 'Input styles when invalid and focused.',
    },
    {
      name: 'input-radio',
      description: 'Radio input styles.',
    },
    {
      name: 'input-checkbox',
      description: 'Checkbox input styles.',
    },
    {
      name: 'input-checkbox-checked',
      description: 'Checkbox input styles when checked.',
    },
    {
      name: 'input-checkbox-checked-focused',
      description: 'Checkbox input styles when checked and focused.',
    },
    {
      name: 'input-checkbox-focused',
      description: 'Checkbox input styles when focused.',
    },
    {
      name: 'button-primary',
      description: 'Primary button styles.',
    },
    {
      name: 'radio-list-item',
      description: 'Radio list item styles.',
    },
  ]) }} />

- Slots are not exposed (all inputs are encapsulated in PCI iframes), so styling relies on CSS variables and `::part` hooks for wrapper elements.

## Static examples

<UsageSnippet
  title="External submission control"
  description="Hide the internal CTA and trigger tokenization manually (e.g., to combine with a review step)."
  code={`<justifi-tokenize-payment-method
  account-id="acc_123"
  auth-token="wct_abc123"
  hide-submit-button
  ref={el => (window.tokenizer = el)}
/>

<button onclick="window.tokenizer.tokenizePaymentMethod()">
  Submit Payment
</button>
`} language="html" />

<UsageSnippet
  title="Prefill billing info"
  code={`const tokenizer = document.querySelector('justifi-tokenize-payment-method');

tokenizer.fillBillingForm({
name: 'Leslie Knope',
address_line1: '123 Main St',
address_city: 'Pawnee',
address_state: 'IN',
address_postal_code: '47998',
});`}
language="js"
/>
