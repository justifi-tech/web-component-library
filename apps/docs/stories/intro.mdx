import { Canvas, Meta, Story, Source } from '@storybook/blocks';
import { Markdown } from '@storybook/blocks';
import dedent from 'ts-dedent';
import { extractWebcomponentsVersion, SummaryElement, CSSVars } from './utils';

<Meta title="Introduction" />

# Introduction to JustiFi Web Component Library

{/* This function would be potentially dangerous in the context of a private repository */}

{/* In this case since the repo is public, the package.json file is public already */}

Latest Version: <code>{extractWebcomponentsVersion()}</code>

# Index

- [Usage](#usage)
- [Default Styling](#default-styling)
- [React](#react)
- [Styling](#styling)
  - [Styling iFramed components with variables](#styling-components-with-variables)
    - [Loading Google Fonts](#loading-google-fonts)
  - [Styling components with custom css](#styling-components-with-custom-css)
- [Changelog](/docs/changelog--docs)

# Usage

The components can be used as HTML Web Components or as React components.

## HTML Web Components

The simplest way to use the Web Components is to include the following script within your HTML. This loads all the components into the browsers custom component registry.

<Source
  language="html"
  dark
  format={false}
  code={dedent`
    <script type='module' src='https://cdn.jsdelivr.net/npm/@justifi/webcomponents@${extractWebcomponentsVersion()}/dist/webcomponents/webcomponents.esm.js'></script>
  `}
/>

Then, you can use the custom elements as normal `HTML` tags.

<Source
  language="html"
  dark
  format={false}
  code={dedent`
    <justifi-payment-form attr="value" />
  `}
/>

It can also be installed as a package with `npm` or `yarn`

<Source
  language="bash"
  dark
  format={false}
  code={dedent`
    npm install --save @justifi/webcomponents
  `}
/>

and import the component module using ES modules.

<Source
  language="html"
  dark
  format={false}
  code={dedent`
      import '@justifi/webcomponents/dist/module/justifi-payment-form.js';
  `}
/>

# Styling

## Overview

Web components in this library utilize the [CSS Shadow Parts API](https://developer.mozilla.org/en-US/docs/Web/CSS/::part) to allow you to style specific internal elements of components from outside the shadow DOM boundary. This approach ensures encapsulation while still providing flexibility for customization.

## Styling Components with Custom CSS

Each component exposes specific parts through its shadow DOM. These parts correspond to internal elements that you can target for custom styling. You can find a list of exportedParts for every component on their respective Docs page.

## How to Use Exported Parts

To style a specific part of a component:

1 - Identify the part name from the `exportedParts` list (e.g., `label`).
2 - Use the `::part` pseudo-element to target the componentâ€™s part in your CSS.
3 - Apply your desired custom styles.

## Example

If a component exposes a part named `label`, you can style it as follows:

<Source
  language="css"
  dark
  code={dedent`
    /* Targeting the "label" part */
    the-component-tag::part(label) {
      font-size: 16px;
      color: #333;
      background-color: #f8f9fa;
    }
  `}

/>

In this example:

the-component-tag is the tag name of the web component.
label is the exported part you are targeting.
The `::part(label)` selector allows you to apply styles to the internal label element of the component.

# Report Issues

For bugs and issues, please:

1 - Go to our [GitHub Issues](https://github.com/justifi-tech/web-component-library/issues).
2 - Click "New Issue" and describe the problem.
