import { Meta, Title, Source } from '@storybook/blocks';
import { codeExampleFull } from './example';
import { ComponentBox } from '../../../utils/documentation-components';
import * as JustifiModularCheckoutExampleThree from './index.stories';
import { setUpMocks } from '../../../utils/mockAllServices';
import './styles.css';

{setUpMocks()}

<Meta
  title="Modular Checkout/Examples/Layout 3"
  Components="justifi-modular-checkout"
  of={JustifiModularCheckoutExampleThree}
/>

<Title />

---

A complete checkout form example that demonstrates a modern two-column payment layout with order summary and payment form side by side. This example showcases how to integrate the `justifi-modular-checkout` wrapper with `justifi-card-form` and `justifi-postal-code-form` components to create a professional payment experience.

The layout includes:

- **Header Bar**: Back arrow, brand name, and test mode indicator
- **Left Column**: Order summary with product details, pricing breakdown, and footer
- **Right Column**: Payment form with email, card details, billing address, and submit button
- **Card Form**: Secure iframe inputs for card number, expiration, and CVV
- **Postal Code Form**: ZIP code input for billing information

This example uses CSS parts to style the web components consistently with the overall design theme and demonstrates proper integration of the modular checkout components.

# Example Usage

---

<ComponentBox>
  <div className="checkout-container">
    {/* Header Bar */}
    <div className="checkout-header">
      <div className="checkout-brand">
        <span className="checkout-back-arrow">‚Üê</span>
        <span className="checkout-brand-name">JustiFi Store</span>
      </div>
      <div className="checkout-test-mode">TEST MODE</div>
    </div>

    {/* Main Container */}
    <div className="checkout-main-container">
      {/* Left Column - Order Summary */}
      <div className="checkout-order-summary">
        {/* Pay Header */}
        <div className="checkout-pay-header">
          <h1 className="checkout-pay-title">Pay JustiFi Store</h1>
          <div className="checkout-pay-amount">$39.99</div>
        </div>

        {/* Product Item */}
        <div className="checkout-product-item">
          <div className="checkout-product-image">üìö</div>
          <div className="checkout-product-details">
            <div className="checkout-product-name">Fintech Deployhandbook Test</div>
            <div className="checkout-product-description">How to deploy Fintech app...</div>
          </div>
          <div className="checkout-product-price">$39.99</div>
        </div>

        {/* Summary Breakdown */}
        <div className="checkout-summary-breakdown">
          <div className="checkout-summary-row">
            <span>Subtotal</span>
            <span>$39.99</span>
          </div>
          <div className="checkout-summary-row tax">
            <div className="checkout-tax-info">
              <span>Tax</span>
              <span className="checkout-tax-icon">‚ìò</span>
            </div>
            <span className="checkout-tax-placeholder">Enter address to calculate</span>
          </div>
          <div className="checkout-summary-row total">
            <span>Total due</span>
            <span>$39.99</span>
          </div>
        </div>

        {/* Footer */}
        <div className="checkout-footer">
          <div className="checkout-powered-by">
            Powered by <span className="checkout-stripe-text">JustiFi</span>
          </div>
          <div className="checkout-footer-links">
            <a href="#" className="checkout-footer-link">Terms</a>
            <a href="#" className="checkout-footer-link">Privacy</a>
          </div>
        </div>
      </div>

      {/* Right Column - Payment Form */}
      <div className="checkout-payment-form">
        <h2 className="checkout-form-title">Pay with card</h2>

        {/* Email Field */}
        <div className="checkout-form-field">
          <label className="checkout-form-label">Email</label>
          <input type="email" placeholder="Enter your email" className="checkout-form-input" />
        </div>

        {/* Card Information */}
        <div className="checkout-form-field">
          <label className="checkout-form-label">Debit/Credit Card information</label>
          <justifi-modular-checkout
            auth-token="authToken"
            account-id="acc_123"
            checkout-id="cho_123"
            save-payment-method="true"
          >
            <justifi-card-form />
          </justifi-modular-checkout>
        </div>

        {/* Name on Card */}
        <div className="checkout-form-field">
          <label className="checkout-form-label">Name on card</label>
          <input type="text" placeholder="Enter cardholder name" className="checkout-form-input" />
        </div>

        {/* Billing Address */}
        <div className="checkout-form-field">
          <label className="checkout-form-label">Billing address</label>
          <div style={{marginBottom: '15px'}}>
            <select className="checkout-form-select">
              <option>United States</option>
              <option>Canada</option>
              <option>United Kingdom</option>
              <option>Australia</option>
            </select>
          </div>
          <div style={{marginBottom: '10px'}}>
            <input type="text" placeholder="Address" className="checkout-form-input" />
          </div>
          <a href="#" className="checkout-manual-link">Enter address manually</a>
        </div>

        {/* Save Info Checkbox */}
        <div className="checkout-checkbox-container">
          <label className="checkout-checkbox-label">
            <input type="checkbox" className="checkout-checkbox-input" />
            <div>
              <div className="checkout-checkbox-text">Save my info for secure 1-click checkout</div>
              <div className="checkout-checkbox-subtext">Pay faster on StakNine and thousands of sites.</div>
            </div>
          </label>
        </div>

        {/* Pay Button */}
        <button className="checkout-pay-button" id="submit-button">
          <span>Pay</span>
        </button>
      </div>
    </div>

  </div>
</ComponentBox>

---

<Source dark language="html" code={codeExampleFull} />
