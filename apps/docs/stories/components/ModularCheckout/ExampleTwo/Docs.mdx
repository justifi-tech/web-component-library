import { Meta, Title, ArgTypes, Source } from '@storybook/blocks';
import { filterDocsByTag, ExportedParts } from '../../../utils';
import { codeExampleFull } from './example';
import { ComponentBox } from '../../../utils/documentation-components';
import * as JustifiModularCheckoutExampleTwo from './index.stories';
import { setUpMocks } from '../../../utils/mockAllServices';
import './styles.css';

{setUpMocks()}

<Meta
  title="Modular Checkout/Examples/Layout 2"
  Components="justifi-modular-checkout"
  of={JustifiModularCheckoutExampleTwo}
/>

<Title />

---

A complete checkout page example featuring a modern e-commerce layout with a two-column design. This example demonstrates how to integrate the modular checkout components within a full page layout including header, shipping information, payment methods, and shopping cart summary.

The layout includes:

- **Header**: Brand logo and navigation with shopping cart icon
- **Shipping Section**: Pre-filled shipping information with edit functionality
- **Payment Method Section**: PayPal button and credit card form with postal code
- **Shopping Cart**: Order summary with item details and totals

This example uses the `justifi-card-form` and `justifi-postal-code-form` components within the `justifi-modular-checkout` wrapper, styled with CSS parts to match the design system.

# Example Usage

---

<ComponentBox>
  <div className="checkout-page">
    <div className="checkout-header">
      <div className="checkout-brand">
        <span className="checkout-brand-primary">JustiFi</span>
        <span className="checkout-brand-secondary">BREW</span>
      </div>
      <div className="checkout-nav">
        <a href="#" className="checkout-nav-link">SHOP</a>
        <a href="#" className="checkout-nav-link">LEARN</a>
        <div className="checkout-cart-icon">
          ðŸ›’
          <div className="checkout-cart-badge">1</div>
        </div>
      </div>
    </div>

    <div className="checkout-main">
      <div className="checkout-left-column">
        <h1 className="checkout-title">Checkout</h1>

        <hr className="checkout-divider" />

        <div className="checkout-section">
          <div className="checkout-section-header">
            <h2 className="checkout-section-title">Shipping</h2>
            <a href="#" className="checkout-edit-link">Edit</a>
          </div>
          <div className="checkout-shipping-info">
            <div>John Doe</div>
            <div>123 Main St, Anytown, USA</div>
            <div>Standard Shipping: Free</div>
            <div className="checkout-shipping-arrival">Arrive Thursday, October 31st</div>
          </div>
        </div>

        <hr className="checkout-divider" />

        <div className="checkout-section">
          <h2 className="checkout-section-title">Payment Method</h2>

          <button className="checkout-paypal-button">
            <span>PayPal</span>
          </button>

          <div className="checkout-or-divider">
            <div className="checkout-or-line left"></div>
            <span className="checkout-or-text">or</span>
            <div className="checkout-or-line right"></div>
          </div>

          <justifi-modular-checkout
            auth-token="authToken"
            account-id="acc_123"
            checkout-id="cho_123"
          >
            <div className="checkout-form-container">
              <justifi-card-form />
              <justifi-postal-code-form />
            </div>
          </justifi-modular-checkout>

          <button className="checkout-submit-button" id="submit-button">
            <span>PLACE ORDER</span>
          </button>

          <div className="checkout-terms">
            By clicking Place Order you agree to the <a href="#" className="checkout-terms-link">Terms & Conditions.</a>
          </div>
        </div>
      </div>

      <div className="checkout-right-column">
        <div className="checkout-cart-container">
          <div className="checkout-cart-header">
            <h2 className="checkout-cart-title">Shopping Cart</h2>
            <a href="#" className="checkout-edit-link">Edit</a>
          </div>

          <div className="checkout-summary">
            <div className="checkout-summary-row">
              <span>Subtotal</span>
              <span>$38.00</span>
            </div>
            <div className="checkout-summary-row">
              <span>Shipping Fee</span>
              <span>Free</span>
            </div>
            <div className="checkout-summary-row">
              <span>Tax</span>
              <span>$4.00</span>
            </div>
            <div className="checkout-summary-total">
              <span>Order Total</span>
              <span>$42.00</span>
            </div>
          </div>

          <div className="checkout-items-section">
            <div className="checkout-items-header">
              <span>ITEM</span>
              <span className="checkout-items-header-qty">QTY</span>
              <span className="checkout-items-header-price">PRICE</span>
            </div>
            <div className="checkout-item">
              <div>
                <div className="checkout-item-name">Drip Coffee Funnel</div>
                <div className="checkout-item-description">8 cups / 64 ounces</div>
              </div>
              <div className="checkout-item-qty">1</div>
              <div className="checkout-item-price">$38.00</div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</ComponentBox>

---

<Source dark language="html" code={codeExampleFull} />
