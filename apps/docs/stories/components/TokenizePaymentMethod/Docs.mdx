import {
  Meta,
  Title,
  Subtitle,
  Description,
  ArgTypes,
  Source,
} from '@storybook/blocks';
import dedent from 'ts-dedent';
import { filterDocsByTag } from '../../utils';
import example from './example';
import { Authorization } from '../../utils/documentation-components';
import * as JustifiTokenizePaymentMethod from './index.stories.tsx';

<Meta
  title="Payment Facilitation/Tokenize Payment Method"
  Components="tokenize-payment-method"
  of={JustifiTokenizePaymentMethod}
/>

<Title />

Component to render an entire form including a switch to use a credit card or bank
account, a submit button and all fields required for proper use.

# Index

- [Props, events and methods](#props-events-and-methods)
- [Security](#security)
- [Example usage](#example-usage)

# Props, events and methods

---

<ArgTypes exclude={['theme']} />

<Authorization
  actions={['write']}
  entity="tokenize"
  identification="account_id"
/>

# Security

---

The api endpoint associated with this component has the following security measures in place:

1. **Rate Limiting**: POST requests to are limited to 2 requests per 10 seconds.
2. **Token-based Request Limiting**: POST requests using web component token authentication are limited to 10 attempts per token.

These measures are in place to prevent abuse and ensure the security of the payment processing system.

**Note:** While `client-id` is still supported, we now recommend using web component tokens (`auth-token`) for enhanced security and flexibility.

# Example Usage

---

<Source dark language="html" code={example} />
