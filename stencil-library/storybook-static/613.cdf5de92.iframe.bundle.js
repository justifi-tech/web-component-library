"use strict";(self.webpackChunk_justifi_webcomponents=self.webpackChunk_justifi_webcomponents||[]).push([[613],{"./dist/esm/Payment-3f7570a8.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var CaptureStrategy,PaymentMethodTypes,PaymentStatuses,PaymentDisputedStatuses;__webpack_require__.d(__webpack_exports__,{P:()=>PaymentMethodTypes,a:()=>Payment}),function(CaptureStrategy){CaptureStrategy.automatic="automatic",CaptureStrategy.manual="manual"}(CaptureStrategy||(CaptureStrategy={})),function(PaymentMethodTypes){PaymentMethodTypes.card="card",PaymentMethodTypes.bankAccount="bankAccount"}(PaymentMethodTypes||(PaymentMethodTypes={})),function(PaymentStatuses){PaymentStatuses.pending="pending",PaymentStatuses.authorized="authorized",PaymentStatuses.succeeded="succeeded",PaymentStatuses.failed="failed",PaymentStatuses.disputed="disputed",PaymentStatuses.fully_refunded="fully_refunded",PaymentStatuses.partially_refunded="partially_refunded"}(PaymentStatuses||(PaymentStatuses={})),function(PaymentDisputedStatuses){PaymentDisputedStatuses.lost="lost",PaymentDisputedStatuses.open="open"}(PaymentDisputedStatuses||(PaymentDisputedStatuses={}));class Payment{constructor(payment){this.id=payment.id,this.account_id=payment.account_id,this.amount=payment.amount,this.amount_disputed=payment.amount_disputed,this.amount_refundable=payment.amount_refundable,this.amount_refunded=payment.amount_refunded,this.balance=payment.balance,this.captured=payment.captured,this.capture_strategy=payment.capture_strategy,this.currency=payment.currency,this.description=payment.description,this.disputed=payment.disputed,this.disputes=payment.disputes,this.error_code=payment.error_code,this.error_description=payment.error_description,this.fee_amount=payment.fee_amount,this.is_test=payment.is_test,this.metadata=payment.metadata,this.payment_method=payment.payment_method,this.payment_intent_id=payment.payment_intent_id,this.refunded=payment.refunded,this.status=payment.status,this.created_at=payment.created_at,this.updated_at=payment.updated_at}get disputedStatus(){const lost=this.disputes.some((dispute=>dispute.status===PaymentDisputedStatuses.lost));return this.disputed?lost?PaymentDisputedStatuses.lost:PaymentDisputedStatuses.open:null}}},"./dist/esm/justifi-payment-form.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{justifi_payment_form:()=>PaymentForm});var _index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-3ce5521c.js"),_Payment_3f7570a8_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/Payment-3f7570a8.js");const PaymentForm=class{constructor(hostRef){(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.bankAccount=void 0,this.card=void 0,this.iframeOrigin=void 0,this.selectedPaymentMethodType=void 0,this.allowedPaymentMethodTypes=[]}connectedCallback(){this.card&&this.allowedPaymentMethodTypes.push(_Payment_3f7570a8_js__WEBPACK_IMPORTED_MODULE_1__.P.card),this.bankAccount&&this.allowedPaymentMethodTypes.push(_Payment_3f7570a8_js__WEBPACK_IMPORTED_MODULE_1__.P.bankAccount),this.allowedPaymentMethodTypes.length||this.allowedPaymentMethodTypes.push(_Payment_3f7570a8_js__WEBPACK_IMPORTED_MODULE_1__.P.card),this.selectedPaymentMethodType=this.allowedPaymentMethodTypes[0]}paymentMethodSelectedHandler(event){const paymentMethodType=event.detail;this.selectedPaymentMethodType=paymentMethodType}async fillBillingForm(fields){this.billingFormRef.fill(fields)}async submit(args){if(!this.paymentMethodFormRef||!this.billingFormRef)return;const billingFormValidation=await this.billingFormRef.validate(),paymentMethodFormValidation=await this.paymentMethodFormRef.validate();if(!billingFormValidation.isValid||!paymentMethodFormValidation.isValid)return;const billingFormFieldValues=await this.billingFormRef.getValues(),paymentMethodData=Object.assign(Object.assign({},args.paymentMethodData),billingFormFieldValues);return this.paymentMethodFormRef.tokenize(args.clientId,paymentMethodData,args.accountId)}render(){return(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.H,null,(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.h)("form",null,this.allowedPaymentMethodTypes.length>1&&(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.h)("justifi-payment-method-selector",{paymentMethodTypes:this.allowedPaymentMethodTypes,selectedPaymentMethodType:this.selectedPaymentMethodType}),(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.h)("justifi-payment-method-form",{"payment-method-form-type":this.selectedPaymentMethodType,"iframe-origin":this.iframeOrigin,ref:el=>{el&&(this.paymentMethodFormRef=el)}}),(0,_index_3ce5521c_js__WEBPACK_IMPORTED_MODULE_0__.h)("justifi-billing-form",{legend:"Billing Info",ref:el=>{el&&(this.billingFormRef=el)}})))}}}}]);